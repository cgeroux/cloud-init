<cluster 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="cluster_settings cluster_settings.xsd">
  
  <node>
    <name>salt-master</name>
    <image>Ubuntu_14.04_Trusty-amd64-20150708</image>
    <flavor>p1-0.75gb</flavor>
    <key-name>thekey</key-name>
    <properties>
      <property>salt-master</property>
    </properties>
    <cloud-init>
      <replaces>
        <replace>
          <match>MINIONLIST</match>
          <nodes-with-property>salt-minion</nodes-with-property>
          <property>name</property>
        </replace>
      </replaces>
      <file>./master-cloudconfig</file>
    </cloud-init>
    <floating-ip>206.167.181.71</floating-ip>
    <network>cgeroux-project_network</network>
  </node>
  
  <node>
    <name>hadoop-master</name>
    <image>Ubuntu_14.04_Trusty-amd64-20150708</image>
    <flavor>p1-0.75gb</flavor>
    <key-name>thekey</key-name>
    <properties>
      <property>salt-minion</property>
    </properties>
    <cloud-init>
      <replaces>
        <replace>
          <match>IPTOREPLACE</match>
          <nodes-with-property>salt-master</nodes-with-property>
          <property>fixed_ip</property>
        </replace>
      </replaces>
      <file>./hadoopmaster-cloudconfig</file>
    </cloud-init>
    <network>cgeroux-project_network</network>
    <floating-ip>206.167.181.73</floating-ip>
  </node>
  
  <node>
    <num-instances>3</num-instances>
    <name>hadoop-slave</name>
    <image>Ubuntu_14.04_Trusty-amd64-20150708</image>
    <flavor>p1-0.75gb</flavor>
    <key-name>thekey</key-name>
    <properties>
      <property>salt-minion</property>
    </properties>
    <cloud-init>
      <replaces>
        <replace>
          <match>IPTOREPLACE</match>
          <nodes-with-property>salt-master</nodes-with-property>
          <property>fixed_ip</property>
        </replace>
      </replaces>
      <file>./hadoopslave-cloudconfig</file>
    </cloud-init>
    <network>cgeroux-project_network</network>
  </node>
</cluster>
